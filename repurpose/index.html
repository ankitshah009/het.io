<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>hetio &middot; Disease-Associated Genes</title>
  <link href="../favicon.ico" rel="icon" type="image/x-icon" />

  <!-- Bootstrap core CSS -->
  <link href="../css/bootstrap.min.css" rel="stylesheet">
  <link href="../css/bootstrap-theme.css" rel="stylesheet">

  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/u/bs-3.3.6/dt-1.10.12/datatables.min.css"/>

  <style type="text/css" title="currentStyle">
    /*@import "../disease-genes/browse/css/demo_page.css";
    @import "../disease-genes/browse/css/demo_table_jui.css";
    @import "../disease-genes/browse/css/jquery-ui-1.8.4.custom.css";*/
    body {
      padding-top: 50px;
    }
  </style>

</head>

<body>

  <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">het.io</a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li>
            <a href="../">Home</a>
          </li>
          <li>
            <a href="../hnep">HNEP</a>
          </li>

          <li class="active" class="dropdown">
            <a href="../disease-genes" class="dropdown-toggle" data-toggle="dropdown">
              Disease Genes
              <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
              <li>
                <a href="../disease-genes">About</a>
              </li>
              <li class="active">
                <a href="../disease-genes/browse">Browse</a>
              </li>
              <li>
                <a href="../disease-genes/downloads">Downloads</a>
              </li>
            </ul>
          </li>

          <li>
            <a href="../media">Media</a>
          </li>
          <li class="dropdown">
            <a href="http://baranzinilab.ucsf.edu/" target="_blank" class="dropdown-toggle" data-toggle="dropdown">
              Baranzini Lab
              <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
              <li>
                <a href="http://baranzinilab.ucsf.edu/" target="_blank">Home</a>
              </li>
              <li class="divider"></li>
              <li>
                <a href="http://baranzinilab.ucsf.edu/research" target="_blank">Research</a>
              </li>
              <li>
                <a href="http://baranzinilab.ucsf.edu/publications" target="_blank">Publications</a>
              </li>
              <li>
                <a href="http://baranzinilab.ucsf.edu/tools" target="_blank">Tools</a>
              </li>
              <li>
                <a href="http://baranzinilab.ucsf.edu/links" target="_blank">Links</a>
              </li>
              <li>
                <a href="http://baranzinilab.ucsf.edu/contact-sergio-e-baranzini-phd" target="_blank">Contact</a>
              </li>
            </ul>
          </li>
        </ul>
      </div>
      <!--/.navbar-collapse -->
    </div>
  </div>


  <!-- Main jumbotron for a primary marketing message or call to action -->
  <div class="jumbotron">
    <div class="container">
      <h1>Drug Repurposing Browser
      </h1>
      <p>View predictions and performance assessments.</p>
    </div>
  </div>


  <div class="container">

    <h2>Browse </h2>

    <form>
      <div class="btn-group btn-group-justified" id="browse_by_button" data-toggle="buttons">
        <label class="btn btn-default active">
          <input type="radio" value="compounds" name="browse-by" id="compounds" checked="checked">Compounds</label>
        <label class="btn btn-default">
          <input type="radio" value="diseases" name="browse-by" id="diseases">Diseases</label>
      </div>
    </form>

    <div id="dynamic-table">Generating Table...</div>

  </div>


  <script type="text/javascript" charset="utf-8" src="../js/jquery-2.1.0.min.js"></script>
  <script type="text/javascript" charset="utf-8" src="../js/bootstrap.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/u/bs-3.3.6/dt-1.10.12/datatables.min.js"></script>
  <script type="text/javascript" src="js/utilities.js"></script>

  <script type="text/javascript">
    var aoColumnDefs = [
      {aTargets: [0], mRender: renderGoto},
      {aTargets: [3], bSearchable: false},
      {aTargets: [3, 5], bVisible: false},
      {aTargets: [6], mRender: render_percent},
      {aTargets: [2,3,4], mRender: render_integer}
    ];

    function renderGoto(data, type, full) {
      var browseby = $('input[name=browse-by]').filter(':checked').val();
      if (type != 'display') {return data};
      var url = data.replace(':', '_');
      var directory = browseby.substring(0, browseby.length - 1);
      return `<a href="browse.html?id=${url}" class="btn btn-xs btn-default">See predictions for <code>${data}</code></a>`;
    }

    function renderTable() {
      var browseby = $('input[name=browse-by]').filter(':checked').val();
      console.log(browseby);
      var table_id = 'table_' + browseby;
      var url = `${data_url}${browseby}.json`;
      var table_html = `
      <table cellpadding="0" cellspacing="0" border="0" class="display" width="100%" id="${table_id}">
        <thead>
          <th></th>
          <th>Name</th>
          <th>Treatments</th>
          <th>palliates</th>
          <th>Edges</th>
          <th>synonyms</th>
          <th>AUROC</th>
        </thead>
        <tbody>
        </tbody>
      </table>
      `

      $('#dynamic-table').fadeOut(1).html(table_html).fadeIn(900);

      $('#' + table_id).DataTable({
        ajax: url,
        aoColumnDefs: aoColumnDefs,
        order: [[2, 'desc'], [1, 'desc']],
        bProcessing: true
      })
    }

    renderTable()
    $('body').on('mousedown', '#browse_by_button .btn', function(event) {
      event.stopPropagation(); // prevent default bootstrap behavior
      if ($(this).attr('data-toggle') != 'button') { // don't toggle if data-toggle="button"
        $(this).button('toggle')
      }
      renderTable()
    });

  </script>

  <!-- Piwik -->
  <script type="text/javascript">
    var _paq = _paq || [];
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="//piwik.dhimmel.com/";
      _paq.push(['setTrackerUrl', u+'piwik.php']);
      _paq.push(['setSiteId', 3]);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
    })();
  </script>
  <noscript><p><img src="//piwik.dhimmel.com/piwik.php?idsite=3" style="border:0;" alt="" /></p></noscript>
  <!-- End Piwik Code -->

</body>

</html>
